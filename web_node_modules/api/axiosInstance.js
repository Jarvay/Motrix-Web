import axios from 'axios'
import { Message } from 'element-ui'

const axiosInstance = axios.create({
  baseURL: '/api'
})

axiosInstance.interceptors.response.use((value) => {
  const responseBody = value.data
  if (!responseBody.success && !responseBody.disableErrorMsg) {
    Message.error(responseBody.message)
  }

  return responseBody.data
})

export { axiosInstance }
